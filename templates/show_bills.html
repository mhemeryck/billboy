{% extends "layout.html" %}
{% block body %}
    {% if session.logged_in %}
        <form action="{{ url_for('add_bill') }}" method="post" class="form-inline" role="form">
            <div class="form-group">
                <input id="datepicker" name="date" type="date" class="form-control" placeholder="Date">
            </div>
            <div class="form-group">
                <input id="description" name="description" type="text" class="form-control" placeholder="Description">
            </div>
            <div class="form-group">
                <input id="amount" name="amount" type="number" class="form-control" placeholder="Amount">
            </div>
            <div class="form-group">
                <select id="paid_by" name="paid_by" class="form-control" placeholder="Paid By">
                    <option>katrien</option>
                    <option>martijn</option>
                </select>
            </div>
            <div class="form-group">
                <button type="submit" value="submit" class="btn btn-primary">Submit</button>
            </div>
        </form>
        {% if bills %}
            <div class="panel panel-default">
                <table class="table">
                <thead>
                    <tr>
                        <th>Date</th>
                        <th>Description</th>
                        <th>Amount</th>
                        <th>Paid by</th>
                    </tr>
                </thead>
                {% for bill in bills %}
                    <tr>
                        <td><a id="bill-date-{{ loop.index }}">{{ bill.date|datetime }}</a></td>
                        <td><a id="bill-description-{{ loop.index}}">{{ bill.description }}</a></td>
                        <td><a id="bill-amount-{{ loop.index}}">{{ bill.amount }}</a></td>
                        <td><a id="bill-paid_by-{{ loop.index}}">{{ bill.paid_by }}</a></td>
                        <script>
                            $('#bill-date-{{ loop.index }}').editable({
                               type: 'text',
                               title: 'Adapt test',
                               url: '/add'
                           });
                        </script>
                        <script>
                            $('#bill-description-{{ loop.index }}').editable({
                               type: 'text',
                               title: 'Adapt test',
                               url: '/add'
                           });
                        </script>
                        <script>
                            $('#bill-amount-{{ loop.index }}').editable({
                               type: 'text',
                               title: 'Adapt test',
                               url: '/add'
                           });
                        </script>
                        <script>
                            $('#bill-paid_by-{{ loop.index }}').editable({
                               type: 'text',
                               title: 'Adapt test',
                               url: '/add'
                           });
                        </script>
                    </tr>
                {% endfor %}
                </table>
            </div>
        {% else %}
            <p><em>No entries thus far.</em></p>
        {% endif %}
    {% endif %}
{% endblock %}

